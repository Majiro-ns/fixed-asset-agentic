# 新機能候補一覧

## A. 判定精度向上系

| # | 機能 | 価値 | 工数 | 備考 |
|---|------|------|------|------|
| A1 | **資産名類似度学習** | ★★★ | 中（1-2日） | 過去台帳インポート→品名Embedding検索→判定提案 |
| A2 | **複数書類PDF分割** | ★★★ | 大（3-5日） | サムネイル俯瞰+プレビューUI |
| A3 | **仕入先パターン学習** | ★☆☆ | 小（半日） | 相関であり因果ではない（却下済） |

## B. UX改善系

| # | 機能 | 価値 | 工数 | 備考 |
|---|------|------|------|------|
| B1 | **判定理由の詳細化** | ★★☆ | 小（2-3時間） | Geminiに「なぜその判定か」を自然言語で説明させる |
| B2 | **類似事例の提示** | ★★☆ | 中（1日） | 「過去に似た案件はこう処理しました」を表示 |
| B3 | **一括アップロード** | ★★☆ | 小（半日） | 複数PDFを一度にアップ→順次判定 |
| B4 | **判定結果の比較表示** | ★☆☆ | 小（2-3時間） | 複数案件を並べて比較 |

## C. 業務効率化系

| # | 機能 | 価値 | 工数 | 備考 |
|---|------|------|------|------|
| C1 | **固定資産台帳インポート** | ★★★ | 中（1日） | CSV/Excelから過去台帳を取り込み |
| C2 | **仕訳データ出力** | ★★☆ | 小（半日） | 判定結果から仕訳形式でエクスポート |
| C3 | **会計ソフト連携** | ★★☆ | 大（数日） | freee/弥生APIとの連携 |

## D. 信頼性・監査対応系

| # | 機能 | 価値 | 工数 | 備考 |
|---|------|------|------|------|
| D1 | **判定ログの永続化** | ★★☆ | 中（1日） | DB or Cloud Storage保存 |
| D2 | **監査証跡エクスポート** | ★★☆ | 小（半日） | 判定根拠・タイムスタンプを含む詳細レポート |
| D3 | **人間の修正履歴記録** | ★★☆ | 小（2-3時間） | AI判定→人間修正の差分を記録 |

## E. デモ映え系（ハッカソン向け）

| # | 機能 | 価値 | 工数 | 備考 |
|---|------|------|------|------|
| E1 | **リアルタイム判定アニメーション** | ★☆☆ | 小（2-3時間） | 判定中の進捗を視覚的に表示 |
| E2 | **ダッシュボード画面** | ★★☆ | 中（半日-1日） | 今月の判定件数・金額・分類内訳を可視化 |
| E3 | **音声入力対応** | ★☆☆ | 中（1日） | 「このPCは修繕目的です」を音声で回答 |

---

## 推奨（価値/工数バランス）

| 優先度 | 機能 | 理由 |
|--------|------|------|
| **1** | B1: 判定理由の詳細化 | 2-3時間で実装可、審査員への説明力UP |
| **2** | B3: 一括アップロード | 半日で実装可、実務的価値高 |
| **3** | C1: 固定資産台帳インポート | 1日、A1の前提機能、将来性高 |
| **4** | D3: 人間の修正履歴記録 | 2-3時間、監査対応アピール |
| **5** | E2: ダッシュボード画面 | 半日-1日、デモ映え |

---

## 詳細説明

### A1: 資産名類似度学習

過去の固定資産台帳をインポートし、**資産名（品名）の自然言語的な類似度**で判定精度を向上。

**処理フロー**:
1. 過去台帳（CSV/Excel）をインポート
2. 資産名をEmbedding化してベクトルDBに保存
3. 新規判定時、抽出した品名で類似検索
4. 類似度が高い過去事例があれば、その分類・耐用年数を提案

**例**:
- 過去：「ノートPC HP ProBook」→ 器具備品/4年
- 今回：「ノートPC Dell Latitude」→ 類似度0.92 → 同様の判定を提案

### A2: 複数書類PDF分割

**アプローチ候補**:
1. サムネイル俯瞰方式 - 全ページをグリッド画像化→1回のAPI呼び出しで境界特定
2. プレビュー分割UI - AI推定境界をサムネイル表示→ユーザーがワンクリック承認
3. ルールベース+AI併用 - 「請求書」「見積書」等のキーワード検出→不明箇所のみAI判定

### B1: 判定理由の詳細化

現状：`reasons`フィールドに簡潔な理由のみ

改善後：Geminiに「経理担当者にもわかる自然言語で、なぜその判定になったかを説明せよ」と指示

**例**:
```
この支出は「ノートパソコン一式」で金額が185,000円です。
10万円以上のため少額資産には該当せず、固定資産として計上が必要です。
PCは「器具備品」に分類され、耐用年数は4年となります。
```

### C1: 固定資産台帳インポート

**対応フォーマット**:
- CSV（UTF-8, Shift-JIS）
- Excel（.xlsx）

**必須カラム**:
- 資産名（品名）
- 取得価額
- 勘定科目
- 耐用年数

**オプションカラム**:
- 取得日
- 取引先
- 備考

### D3: 人間の修正履歴記録

AI判定後、人間がGUIDANCEで選択した内容を記録。

**記録内容**:
```json
{
  "original_decision": "GUIDANCE",
  "user_choice": "修繕・維持",
  "final_decision": "EXPENSE_LIKE",
  "timestamp": "2026-02-01T19:30:00",
  "reason": "ユーザー確認: 修繕目的"
}
```

監査時に「なぜAI判定を覆したか」を説明可能。

### E2: ダッシュボード画面

**表示内容**:
- 今月の判定件数
- 資産/経費/要確認の内訳（円グラフ）
- 金額帯別の分布（棒グラフ）
- 最近の判定履歴（直近10件）

---

## 締切: 2026-02-13
